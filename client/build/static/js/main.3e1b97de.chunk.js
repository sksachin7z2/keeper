(this.webpackJsonpinotebook=this.webpackJsonpinotebook||[]).push([[0],{19:function(e,t,a){},20:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(12),r=a.n(s),o=(a(19),a(4)),l=(a(20),a(5)),i=a.n(l),d=a(8),j=a(3),b=a(9),m=Object(n.createContext)(),u=a(0);var h=function(){var e=localStorage.getItem("userId"),t=Object(n.useContext)(m).deleteUser,a=Object(j.e)(),c=Object(j.f)(),s=function(){c("/"),window.location.reload()};return Object(u.jsx)("div",{children:Object(u.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsx)(b.b,{onClick:s,className:"navbar-brand",to:"/",children:"iNoteBook"}),Object(u.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})}),Object(u.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(u.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(b.b,{onClick:s,className:"nav-link ".concat("/"===a.pathname?"active":""),"aria-current":"page",to:"/",children:"Home"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(b.b,{onClick:function(){c("/contact"),window.location.reload()},className:"nav-link ".concat("/contact"===a.pathname?"active":""),to:"/contact",children:"Contact"})})]}),localStorage.getItem("token")?Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("userId"),c("/login"),window.location.reload()},className:"btn btn-primary",children:"Logout"}),"\u2003",Object(u.jsx)("button",{onClick:Object(d.a)(i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t(e);case 2:localStorage.removeItem("token"),localStorage.removeItem("userId"),c("/login"),window.location.reload();case 6:case"end":return a.stop()}}),a)}))),className:"btn btn-primary",children:"Delete account"})]}):Object(u.jsxs)("form",{className:"d-flex",children:[Object(u.jsx)(b.b,{onClick:function(){c("/login"),window.location.reload()},className:"btn btn-primary mx-1",to:"/login",role:"button",children:"Login"}),Object(u.jsx)(b.b,{onClick:function(){c("/signup"),window.location.reload()},className:"btn btn-primary mx-1",to:"/signup",role:"button",children:"SignUp"})]})]})]})})})},p=a(7),O=a(2),x=a(13),g=a.p+"static/media/loading.b7b7515c.gif",f=function(){return Object(u.jsx)("div",{style:{backgroundColor:"transparent",textAlign:"center",paddingTop:"5vh"},children:Object(u.jsx)("img",{src:g,alt:"loading...",width:"50vw"})})},v=function(e){var t=Object(n.useContext)(m),a=t.addNote,c=t.loading,s=t.progress,r=Object(n.useState)({title:"",description:"",tag:""}),l=Object(o.a)(r,2),i=l[0],d=l[1],j=function(e){d(Object(O.a)(Object(O.a)({},i),{},Object(p.a)({},e.target.name,e.target.value)))};return Object(u.jsxs)("div",{className:"container my-3",children:[Object(u.jsx)("h2",{className:"",children:"Add a Note"}),Object(u.jsx)(x.a,{color:"#f11946",height:4,progress:s}),Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{className:"mb-0",children:[Object(u.jsx)("label",{htmlFor:"title",className:"form-label ",children:"Title"}),Object(u.jsx)("input",{type:"text",className:"form-control",id:"title",value:i.title,name:"title","aria-describedby":"emailHelp",onChange:j,minLength:2,required:!0})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"description",className:"form-label  ",children:"Description"}),Object(u.jsx)("textarea",{name:"description",id:"description",cols:"30",rows:"10",value:i.description,onChange:j,minLength:2,required:!0}),Object(u.jsx)("label",{htmlFor:"tag",className:"form-label ",children:"Tag"}),Object(u.jsx)("input",{type:"text",className:"form-control",id:"tag",value:i.tag,name:"tag",onChange:j})]}),Object(u.jsx)("button",{disabled:i.title.length<2||i.description.length<2,type:"submit",className:"btn btn-primary",onClick:function(t){t.preventDefault(),a(i.title,i.description,i.tag),d({title:"",description:"",tag:""}),e.showAlert("Added Successfully","success")},children:"Add Note"})]}),Object(u.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"10vh"},children:c&&Object(u.jsx)(f,{})})]})};var N=function(e){var t=Object(n.useContext)(m).deleteNote,a=e.note,c=e.updateNote;return Object(u.jsx)("div",{className:"col-md-3 my-2",children:Object(u.jsx)("div",{className:"card",children:Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)(u.Fragment,{children:[" ",Object(u.jsx)("h5",{className:"card-title",children:a.title}),Object(u.jsx)("p",{className:"card-text",children:a.description}),Object(u.jsx)("p",{className:"card-text",children:a.tag}),Object(u.jsx)("i",{className:"fas fa-edit mx-3",onClick:function(){c(a)}}),Object(u.jsx)("i",{className:"fas fa-trash",onClick:function(){t(a._id),e.showAlert("Deleted Successfully","success")}})]})})})})};var y=function(e){var t=Object(n.useRef)(null),a=Object(n.useRef)(null),c=Object(n.useContext)(m),s=Object(j.f)(),r=Object(n.useState)({id:"",etitle:"",edescription:"",etag:""}),l=Object(o.a)(r,2),i=l[0],d=l[1],b=function(e){d(Object(O.a)(Object(O.a)({},i),{},Object(p.a)({},e.target.name,e.target.value)))},h=c.notes,x=c.getNote,g=c.editNote;Object(n.useEffect)((function(){localStorage.getItem("token")?x():s("/login")}),[]);var f=function(e){t.current.click(),d({id:e._id,etitle:e.title,edescription:e.description,etag:e.tag})};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(v,{showAlert:e.showAlert}),Object(u.jsx)("button",{ref:t,type:"button",className:"btn btn-primary d-none","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Launch demo modal"}),Object(u.jsx)("div",{className:"modal fade",id:"exampleModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(u.jsx)("div",{className:"modal-dialog",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Modal title"}),Object(u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(u.jsx)("div",{className:"modal-body",children:Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"etitle",className:"form-label ",children:"Title"}),Object(u.jsx)("input",{type:"text",value:i.etitle,className:"form-control",id:"etitle",name:"etitle","aria-describedby":"emailHelp",onChange:b})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"edescription",className:"form-label",children:"Description"}),Object(u.jsx)("textarea",{name:"edescription",id:"edescription",cols:"30",rows:"10",value:i.edescription,onChange:b,minLength:2,required:!0}),Object(u.jsx)("label",{htmlFor:"etag",className:"form-label",children:"Tag"}),Object(u.jsx)("input",{type:"text",value:i.etag,className:"form-control",id:"etag",name:"etag",onChange:b})]})]})}),Object(u.jsxs)("div",{className:"modal-footer",children:[Object(u.jsx)("button",{ref:a,type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(u.jsx)("button",{disabled:i.etitle.length<2||i.edescription.length<2,type:"button",className:"btn btn-primary",onClick:function(){g(i.id,i.etitle,i.edescription,i.etag),a.current.click(),e.showAlert("Updated Successfully","success")},children:"Update Note"})]})]})})}),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h2",{children:"Your Notes"}),Object(u.jsxs)("div",{className:"row my-3",children:[Object(u.jsx)("div",{className:"container",children:0===h.length&&Object(u.jsx)("p",{style:{color:"rgb(3, 255, 149)"},children:" No notes to display"})}),h.map((function(t){return Object(u.jsx)(N,{showAlert:e.showAlert,updateNote:f,note:t},t._id)}))]})]})]})};var w=function(e){return Object(u.jsx)("div",{children:Object(u.jsx)(y,{showAlert:e.showAlert})})},k=function(e){var t="https://inotebook-prac.herokuapp.com",a=Object(n.useState)(!1),c=Object(o.a)(a,2),s=c[0],r=c[1],l=Object(n.useState)(0),j=Object(o.a)(l,2),b=j[0],h=j[1],p=Object(n.useState)([]),O=Object(o.a)(p,2),x=O[0],g=O[1],f=function(){var e=Object(d.a)(i.a.mark((function e(){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,fetch("".concat(t,"/api/notes/fetchallnotes"),{method:"GET",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")}});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,g(n),r(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(i.a.mark((function e(a,n,c){var s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,fetch("".concat(t,"/api/notes/addnote"),{method:"POST",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")},body:JSON.stringify({title:a,description:n,tag:c})});case 3:return s=e.sent,e.next=6,s.json();case 6:o=e.sent,g(x.concat(o)),r(!1);case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(i.a.mark((function e(a){var n,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,fetch("".concat(t,"/api/notes/deletenote/").concat(a),{method:"DELETE",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")}});case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,console.log(c),s=x.filter((function(e){return e._id!==a})),g(s),r(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(i.a.mark((function e(a,n,c,s){var o,l,d,j;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,fetch("".concat(t,"/api/notes/updatenote/").concat(a),{method:"PUT",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")},body:JSON.stringify({title:n,description:c,tag:s})});case 3:return o=e.sent,e.next=6,o.json();case 6:l=e.sent,console.log(l),d=JSON.parse(JSON.stringify(x)),j=0;case 10:if(!(j<d.length)){e.next=20;break}if(d[j]._id!==a){e.next=17;break}return d[j].title=n,d[j].description=c,d[j].tag=s,e.abrupt("break",20);case 17:j++,e.next=10;break;case 20:g(d),r(!1);case 22:case"end":return e.stop()}}),e)})));return function(t,a,n,c){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(i.a.mark((function e(a){var n,c,s,r,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(10),e.next=3,fetch("".concat(t,"/api/notes/fetchallnotes"),{method:"GET",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")}});case 3:return n=e.sent,e.next=6,n.json();case 6:if(c=e.sent,c=JSON.stringify(c),h(50),"[]"===c){e.next=17;break}return e.next=12,fetch("".concat(t,"/api/notes/deleteallnote"),{method:"DELETE",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")}});case 12:return s=e.sent,e.next=15,s.json();case 15:r=e.sent,console.log(r);case 17:return h(70),e.next=20,fetch("".concat(t,"/api/auth/deleteuser/").concat(a),{method:"DELETE",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")}});case 20:return o=e.sent,e.next=23,o.json();case 23:l=e.sent,console.log(l),h(100);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(m.Provider,{value:{notes:x,addNote:v,getNote:f,deleteNote:N,editNote:y,deleteUser:w,loading:s,progress:b},children:e.children})},S=function(e){return Object(u.jsx)("div",{style:{height:"7vh"},children:e.alert&&Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"alert alert-".concat(e.alert.type," alert-dismissible fade show"),role:"alert",children:[Object(u.jsx)("strong",{children:function(e){"danger"===e&&(e="error");var t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}(e.alert.type)}),"  ",e.alert.msg]})})})},C=function(e){var t=Object(n.useState)({email:"",password:""}),a=Object(o.a)(t,2),c=a[0],s=a[1],r=Object(j.f)(),l=Object(n.useState)(!1),b=Object(o.a)(l,2),m=b[0],h=b[1],x=e.host,g=function(){var t=Object(d.a)(i.a.mark((function t(a){var n,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),h(!0),t.next=4,fetch("".concat(x,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email,password:c.password})});case 4:return n=t.sent,t.next=7,n.json();case 7:(s=t.sent).success?(localStorage.setItem("token",s.authToken),localStorage.setItem("userId",s.userId),h(!1),r("/"),e.showAlert("Logged in Successfully","success")):(e.showAlert("Invalid Credential","danger"),h(!1));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(e){s(Object(O.a)(Object(O.a)({},c),{},Object(p.a)({},e.target.name,e.target.value)))};return Object(u.jsxs)("div",{className:"App",children:[m&&Object(u.jsx)(f,{}),Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:g,children:[Object(u.jsxs)("div",{className:"form-group my-3",children:[Object(u.jsx)("label",{className:"",htmlFor:"email",children:"Email address"}),Object(u.jsx)("input",{type:"email",value:c.email,className:"form-control",id:"email",name:"email","aria-describedby":"emailHelp",onChange:v})]}),Object(u.jsxs)("div",{className:"form-group my-3",children:[Object(u.jsx)("label",{className:"",htmlFor:"password",children:"Password"}),Object(u.jsx)("input",{type:"password",value:c.password,className:"form-control",id:"password",name:"password",onChange:v})]}),Object(u.jsx)("div",{className:"text-center",children:Object(u.jsx)("button",{type:"submit",className:"btn btn-primary my-3",children:"Submit"})})]})})]})},I=function(e){var t=Object(n.useState)({name:"",email:"",password:"",cpassword:""}),a=Object(o.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(!1),l=Object(o.a)(r,2),b=l[0],m=l[1],h=Object(j.f)(),x=e.host,g=function(){var t=Object(d.a)(i.a.mark((function t(a){var n,s,r,o,l,d;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),m(!0),n=c.name,s=c.email,r=c.password,o=c.cpassword,r!==o){t.next=13;break}return t.next=6,fetch("".concat(x,"/api/auth/createUser"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,email:s,password:r})});case 6:return l=t.sent,t.next=9,l.json();case 9:(d=t.sent).success?(localStorage.setItem("token",d.authToken),localStorage.setItem("userId",d.userId),m(!1),h("/"),e.showAlert("Created Account Successfully","success")):(e.showAlert("Email already exist or format is wrong","danger"),m(!1)),t.next=15;break;case 13:e.showAlert("password didnot match","danger"),m(!1);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(e){s(Object(O.a)(Object(O.a)({},c),{},Object(p.a)({},e.target.name,e.target.value)))};return Object(u.jsxs)("div",{className:"App",children:[b&&Object(u.jsx)(f,{}),Object(u.jsxs)("form",{onSubmit:g,children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"",htmlFor:"name",children:"Name"}),Object(u.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",onChange:v,"aria-describedby":"emailHelp",minLength:3,required:!0})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"",htmlFor:"email",children:"Email address"}),Object(u.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email",onChange:v,"aria-describedby":"emailHelp",required:!0})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"",htmlFor:"password",children:"Password"}),Object(u.jsx)("input",{type:"password",className:"form-control",id:"password",onChange:v,name:"password",minLength:5,required:!0})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"",htmlFor:"password",children:"Confirm Password"}),Object(u.jsx)("input",{type:"password",className:"form-control",id:"cpassword",onChange:v,name:"cpassword",minLength:5,required:!0})]}),Object(u.jsx)("div",{className:"text-center",children:Object(u.jsx)("button",{type:"submit",className:"btn btn-primary my-3 ",children:"Submit"})})]})]})},A=a(14),T=a.n(A);var F=function(){var e=Object(n.useState)({name:"",email:"",subject:"",description:""}),t=Object(o.a)(e,2),a=t[0],c=t[1],s=function(e){c(Object(O.a)(Object(O.a)({},a),{},Object(p.a)({},e.target.name,e.target.value)))},r=Object(n.useState)(0),l=Object(o.a)(r,2),i=l[0],d=l[1],j=Object(n.useRef)(null);return Object(n.useEffect)((function(){i||d(T()({el:j.current}))}),[i]),Object(u.jsx)("div",{className:"App1",children:Object(u.jsx)("div",{className:"card mb-3",children:Object(u.jsxs)("div",{className:"row g-0",children:[Object(u.jsx)("div",{ref:j,className:"col-md-4 d-flex"}),Object(u.jsx)("div",{className:"col-md-8 query",children:Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("h5",{className:"card-title text-center darkmode",children:"Contact Me"}),Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)("form",{action:"https://formsubmit.co/sksachin7z2@gmail.com",method:"POST",children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"darkmode",htmlFor:"name",children:"Name"}),Object(u.jsx)("input",{type:"text",className:"form-control ",id:"name",name:"name",onChange:s,"aria-describedby":"emailHelp",required:!0})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"darkmode",htmlFor:"email",children:"Email address"}),Object(u.jsx)("input",{type:"email",className:"form-control ",id:"email",name:"email",onChange:s,"aria-describedby":"emailHelp",required:!0})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"darkmode",htmlFor:"subject",children:"Subject"}),Object(u.jsx)("input",{type:"text",className:"form-control ",id:"subject",onChange:s,name:"subject",required:!0})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"darkmode",htmlFor:"description",children:"Description"}),Object(u.jsx)("br",{}),Object(u.jsx)("textarea",{name:"description",id:"description",cols:"50",rows:"10"})]}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary my-3",children:"Send"})]})})]})})]})})})};var E=function(){var e="https://inotebook-prac.herokuapp.com",t=Object(n.useState)(null),a=Object(o.a)(t,2),c=a[0],s=a[1],r=function(e,t){s({msg:e,type:t}),setTimeout((function(){s(null)}),2e3)};return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(k,{children:Object(u.jsxs)(b.a,{children:[Object(u.jsx)(h,{}),Object(u.jsx)(S,{alert:c}),Object(u.jsxs)(j.c,{children:[Object(u.jsx)(j.a,{exact:!0,path:"/",element:Object(u.jsx)(w,{showAlert:r})},"home"),Object(u.jsx)(j.a,{exact:!0,path:"/signup",element:Object(u.jsx)(I,{host:e,showAlert:r})},"signup"),Object(u.jsx)(j.a,{exact:!0,path:"/login",element:Object(u.jsx)(C,{host:e,showAlert:r})},"login"),Object(u.jsx)(j.a,{exact:!0,path:"/contact",element:Object(u.jsx)(F,{showAlert:r})},"contact")]})]})})})};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(E,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.3e1b97de.chunk.js.map